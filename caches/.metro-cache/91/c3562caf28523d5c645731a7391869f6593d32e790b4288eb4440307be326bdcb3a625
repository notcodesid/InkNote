{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"../../renderer/Offscreen","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":268},"end":{"line":14,"column":34,"index":354}}],"key":"KdT5Yxc0ye6AbkgBqacWSBftbgk=","exportNames":["*"]}},{"name":"../../skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0,"index":355},"end":{"line":15,"column":44,"index":399}}],"key":"+q0qwmVtgReRJ1JJKJleyyIYxCs=","exportNames":["*"]}},{"name":"./ReanimatedProxy","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":401},"end":{"line":17,"column":36,"index":437}}],"key":"9/hMKtQD5ZrdSt9i8tblq1v6X3Y=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useTexture = exports.usePictureAsTexture = exports.useImageAsTexture = void 0;\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  var _react = require(_dependencyMap[2], \"react\");\n  var _Offscreen = require(_dependencyMap[3], \"../../renderer/Offscreen\");\n  var _skia = require(_dependencyMap[4], \"../../skia\");\n  var _ReanimatedProxy = _interopRequireDefault(require(_dependencyMap[5], \"./ReanimatedProxy\"));\n  var _worklet_496296207551_init_data = {\n    code: \"function shopify_texturesTsx1(texture,picture,size){const{drawAsImageFromPicture}=this.__closure;texture.value=drawAsImageFromPicture(picture,size);}\",\n    location: \"/Users/siddharth/projects/mobile/node_modules/@shopify/react-native-skia/src/external/reanimated/textures.tsx\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shopify_texturesTsx1\\\",\\\"texture\\\",\\\"picture\\\",\\\"size\\\",\\\"drawAsImageFromPicture\\\",\\\"__closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/Users/siddharth/projects/mobile/node_modules/@shopify/react-native-skia/src/external/reanimated/textures.tsx\\\"],\\\"mappings\\\":\\\"AAkBsB,QACpB,CAAAA,oBAEAA,CAAAC,OACG,CAAAC,OAAA,CAAAC,IAAA,QAAAC,sBAAA,OAAAC,SAAA,CAEHJ,OAAO,CAACK,KAAK,CAAGF,sBAAsB,CAACF,OAAO,CAAEC,IAAI,CAAC,CACvD\\\",\\\"ignoreList\\\":[]}\",\n    version: \"3.17.5\"\n  };\n  var createTexture = function () {\n    var _e = [new global.Error(), -2, -27];\n    var shopify_texturesTsx1 = function (texture, picture, size) {\n      texture.value = (0, _Offscreen.drawAsImageFromPicture)(picture, size);\n    };\n    shopify_texturesTsx1.__closure = {\n      drawAsImageFromPicture: _Offscreen.drawAsImageFromPicture\n    };\n    shopify_texturesTsx1.__workletHash = 496296207551;\n    shopify_texturesTsx1.__initData = _worklet_496296207551_init_data;\n    shopify_texturesTsx1.__stackDetails = _e;\n    return shopify_texturesTsx1;\n  }();\n  var useTexture = (element, size, deps) => {\n    var width = size.width,\n      height = size.height;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      picture = _useState2[0],\n      setPicture = _useState2[1];\n    (0, _react.useEffect)(() => {\n      (0, _Offscreen.drawAsPicture)(element, {\n        x: 0,\n        y: 0,\n        width,\n        height\n      }).then(pic => {\n        setPicture(pic);\n      });\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, deps ?? []);\n    return usePictureAsTexture(picture, size);\n  };\n  exports.useTexture = useTexture;\n  var usePictureAsTexture = (picture, size) => {\n    var texture = _ReanimatedProxy.default.useSharedValue(null);\n    (0, _react.useEffect)(() => {\n      if (picture !== null) {\n        _ReanimatedProxy.default.runOnUI(createTexture)(texture, picture, size);\n      }\n    }, [picture, size, texture]);\n    return texture;\n  };\n  exports.usePictureAsTexture = usePictureAsTexture;\n  var useImageAsTexture = source => {\n    var image = (0, _skia.useImage)(source);\n    var size = (0, _react.useMemo)(() => {\n      if (image) {\n        return {\n          width: image.width(),\n          height: image.height()\n        };\n      }\n      return {\n        width: 0,\n        height: 0\n      };\n    }, [image]);\n    var picture = (0, _react.useMemo)(() => {\n      if (image) {\n        var recorder = _skia.Skia.PictureRecorder();\n        var canvas = recorder.beginRecording({\n          x: 0,\n          y: 0,\n          width: size.width,\n          height: size.height\n        });\n        canvas.drawImage(image, 0, 0);\n        return recorder.finishRecordingAsPicture();\n      } else {\n        return null;\n      }\n    }, [size, image]);\n    return usePictureAsTexture(picture, size);\n  };\n  exports.useImageAsTexture = useImageAsTexture;\n});","lineCount":94,"map":[[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,11,0],[9,6,11,0,"_Offscreen"],[9,16,11,0],[9,19,11,0,"require"],[9,26,11,0],[9,27,11,0,"_dependencyMap"],[9,41,11,0],[10,2,15,0],[10,6,15,0,"_skia"],[10,11,15,0],[10,14,15,0,"require"],[10,21,15,0],[10,22,15,0,"_dependencyMap"],[10,36,15,0],[11,2,17,0],[11,6,17,0,"_ReanimatedProxy"],[11,22,17,0],[11,25,17,0,"_interopRequireDefault"],[11,47,17,0],[11,48,17,0,"require"],[11,55,17,0],[11,56,17,0,"_dependencyMap"],[11,70,17,0],[12,2,17,36],[12,6,17,36,"_worklet_496296207551_init_data"],[12,37,17,36],[13,4,17,36,"code"],[13,8,17,36],[14,4,17,36,"location"],[14,12,17,36],[15,4,17,36,"sourceMap"],[15,13,17,36],[16,4,17,36,"version"],[16,11,17,36],[17,2,17,36],[18,2,19,0],[18,6,19,6,"createTexture"],[18,19,19,19],[18,22,19,22],[19,4,19,22],[19,8,19,22,"_e"],[19,10,19,22],[19,18,19,22,"global"],[19,24,19,22],[19,25,19,22,"Error"],[19,30,19,22],[20,4,19,22],[20,8,19,22,"shopify_texturesTsx1"],[20,28,19,22],[20,40,19,22,"shopify_texturesTsx1"],[20,41,20,2,"texture"],[20,48,20,38],[20,50,21,2,"picture"],[20,57,21,20],[20,59,22,2,"size"],[20,63,22,14],[20,65,23,5],[21,6,25,2,"texture"],[21,13,25,9],[21,14,25,10,"value"],[21,19,25,15],[21,22,25,18],[21,26,25,18,"drawAsImageFromPicture"],[21,59,25,40],[21,61,25,41,"picture"],[21,68,25,48],[21,70,25,50,"size"],[21,74,25,54],[21,75,25,55],[22,4,26,0],[22,5,26,1],[23,4,26,1,"shopify_texturesTsx1"],[23,24,26,1],[23,25,26,1,"__closure"],[23,34,26,1],[24,6,26,1,"drawAsImageFromPicture"],[24,28,26,1],[24,30,25,18,"drawAsImageFromPicture"],[25,4,25,40],[26,4,25,40,"shopify_texturesTsx1"],[26,24,25,40],[26,25,25,40,"__workletHash"],[26,38,25,40],[27,4,25,40,"shopify_texturesTsx1"],[27,24,25,40],[27,25,25,40,"__initData"],[27,35,25,40],[27,38,25,40,"_worklet_496296207551_init_data"],[27,69,25,40],[28,4,25,40,"shopify_texturesTsx1"],[28,24,25,40],[28,25,25,40,"__stackDetails"],[28,39,25,40],[28,42,25,40,"_e"],[28,44,25,40],[29,4,25,40],[29,11,25,40,"shopify_texturesTsx1"],[29,31,25,40],[30,2,25,40],[30,3,19,22],[30,5,26,1],[31,2,28,7],[31,6,28,13,"useTexture"],[31,16,28,23],[31,19,28,26,"useTexture"],[31,20,29,2,"element"],[31,27,29,23],[31,29,30,2,"size"],[31,33,30,14],[31,35,31,2,"deps"],[31,39,31,23],[31,44,32,5],[32,4,33,2],[32,8,33,10,"width"],[32,13,33,15],[32,16,33,28,"size"],[32,20,33,32],[32,21,33,10,"width"],[32,26,33,15],[33,6,33,17,"height"],[33,12,33,23],[33,15,33,28,"size"],[33,19,33,32],[33,20,33,17,"height"],[33,26,33,23],[34,4,34,2],[34,8,34,2,"_useState"],[34,17,34,2],[34,20,34,32],[34,24,34,32,"useState"],[34,39,34,40],[34,41,34,59],[34,45,34,63],[34,46,34,64],[35,6,34,64,"_useState2"],[35,16,34,64],[35,23,34,64,"_slicedToArray2"],[35,38,34,64],[35,39,34,64,"default"],[35,46,34,64],[35,48,34,64,"_useState"],[35,57,34,64],[36,6,34,9,"picture"],[36,13,34,16],[36,16,34,16,"_useState2"],[36,26,34,16],[37,6,34,18,"setPicture"],[37,16,34,28],[37,19,34,28,"_useState2"],[37,29,34,28],[38,4,35,2],[38,8,35,2,"useEffect"],[38,24,35,11],[38,26,35,12],[38,32,35,18],[39,6,36,4],[39,10,36,4,"drawAsPicture"],[39,34,36,17],[39,36,36,18,"element"],[39,43,36,25],[39,45,36,27],[40,8,37,6,"x"],[40,9,37,7],[40,11,37,9],[40,12,37,10],[41,8,38,6,"y"],[41,9,38,7],[41,11,38,9],[41,12,38,10],[42,8,39,6,"width"],[42,13,39,11],[43,8,40,6,"height"],[44,6,41,4],[44,7,41,5],[44,8,41,6],[44,9,41,7,"then"],[44,13,41,11],[44,14,41,13,"pic"],[44,17,41,16],[44,21,41,21],[45,8,42,6,"setPicture"],[45,18,42,16],[45,19,42,17,"pic"],[45,22,42,20],[45,23,42,21],[46,6,43,4],[46,7,43,5],[46,8,43,6],[47,6,44,4],[48,4,45,2],[48,5,45,3],[48,7,45,5,"deps"],[48,11,45,9],[48,15,45,13],[48,17,45,15],[48,18,45,16],[49,4,46,2],[49,11,46,9,"usePictureAsTexture"],[49,30,46,28],[49,31,46,29,"picture"],[49,38,46,36],[49,40,46,38,"size"],[49,44,46,42],[49,45,46,43],[50,2,47,0],[50,3,47,1],[51,2,47,2,"exports"],[51,9,47,2],[51,10,47,2,"useTexture"],[51,20,47,2],[51,23,47,2,"useTexture"],[51,33,47,2],[52,2,49,7],[52,6,49,13,"usePictureAsTexture"],[52,25,49,32],[52,28,49,35,"usePictureAsTexture"],[52,29,50,2,"picture"],[52,36,50,27],[52,38,51,2,"size"],[52,42,51,14],[52,47,52,5],[53,4,53,2],[53,8,53,8,"texture"],[53,15,53,15],[53,18,53,18,"Rea"],[53,42,53,21],[53,43,53,22,"useSharedValue"],[53,57,53,36],[53,58,53,53],[53,62,53,57],[53,63,53,58],[54,4,54,2],[54,8,54,2,"useEffect"],[54,24,54,11],[54,26,54,12],[54,32,54,18],[55,6,55,4],[55,10,55,8,"picture"],[55,17,55,15],[55,22,55,20],[55,26,55,24],[55,28,55,26],[56,8,56,6,"Rea"],[56,32,56,9],[56,33,56,10,"runOnUI"],[56,40,56,17],[56,41,56,18,"createTexture"],[56,54,56,31],[56,55,56,32],[56,56,56,33,"texture"],[56,63,56,40],[56,65,56,42,"picture"],[56,72,56,49],[56,74,56,51,"size"],[56,78,56,55],[56,79,56,56],[57,6,57,4],[58,4,58,2],[58,5,58,3],[58,7,58,5],[58,8,58,6,"picture"],[58,15,58,13],[58,17,58,15,"size"],[58,21,58,19],[58,23,58,21,"texture"],[58,30,58,28],[58,31,58,29],[58,32,58,30],[59,4,59,2],[59,11,59,9,"texture"],[59,18,59,16],[60,2,60,0],[60,3,60,1],[61,2,60,2,"exports"],[61,9,60,2],[61,10,60,2,"usePictureAsTexture"],[61,29,60,2],[61,32,60,2,"usePictureAsTexture"],[61,51,60,2],[62,2,62,7],[62,6,62,13,"useImageAsTexture"],[62,23,62,30],[62,26,62,34,"source"],[62,32,62,57],[62,36,62,62],[63,4,63,2],[63,8,63,8,"image"],[63,13,63,13],[63,16,63,16],[63,20,63,16,"useImage"],[63,34,63,24],[63,36,63,25,"source"],[63,42,63,31],[63,43,63,32],[64,4,64,2],[64,8,64,8,"size"],[64,12,64,12],[64,15,64,15],[64,19,64,15,"useMemo"],[64,33,64,22],[64,35,64,23],[64,41,64,29],[65,6,65,4],[65,10,65,8,"image"],[65,15,65,13],[65,17,65,15],[66,8,66,6],[66,15,66,13],[67,10,66,15,"width"],[67,15,66,20],[67,17,66,22,"image"],[67,22,66,27],[67,23,66,28,"width"],[67,28,66,33],[67,29,66,34],[67,30,66,35],[68,10,66,37,"height"],[68,16,66,43],[68,18,66,45,"image"],[68,23,66,50],[68,24,66,51,"height"],[68,30,66,57],[68,31,66,58],[69,8,66,60],[69,9,66,61],[70,6,67,4],[71,6,68,4],[71,13,68,11],[72,8,68,13,"width"],[72,13,68,18],[72,15,68,20],[72,16,68,21],[73,8,68,23,"height"],[73,14,68,29],[73,16,68,31],[74,6,68,33],[74,7,68,34],[75,4,69,2],[75,5,69,3],[75,7,69,5],[75,8,69,6,"image"],[75,13,69,11],[75,14,69,12],[75,15,69,13],[76,4,70,2],[76,8,70,8,"picture"],[76,15,70,15],[76,18,70,18],[76,22,70,18,"useMemo"],[76,36,70,25],[76,38,70,26],[76,44,70,32],[77,6,71,4],[77,10,71,8,"image"],[77,15,71,13],[77,17,71,15],[78,8,72,6],[78,12,72,12,"recorder"],[78,20,72,20],[78,23,72,23,"Skia"],[78,33,72,27],[78,34,72,28,"PictureRecorder"],[78,49,72,43],[78,50,72,44],[78,51,72,45],[79,8,73,6],[79,12,73,12,"canvas"],[79,18,73,18],[79,21,73,21,"recorder"],[79,29,73,29],[79,30,73,30,"beginRecording"],[79,44,73,44],[79,45,73,45],[80,10,74,8,"x"],[80,11,74,9],[80,13,74,11],[80,14,74,12],[81,10,75,8,"y"],[81,11,75,9],[81,13,75,11],[81,14,75,12],[82,10,76,8,"width"],[82,15,76,13],[82,17,76,15,"size"],[82,21,76,19],[82,22,76,20,"width"],[82,27,76,25],[83,10,77,8,"height"],[83,16,77,14],[83,18,77,16,"size"],[83,22,77,20],[83,23,77,21,"height"],[84,8,78,6],[84,9,78,7],[84,10,78,8],[85,8,79,6,"canvas"],[85,14,79,12],[85,15,79,13,"drawImage"],[85,24,79,22],[85,25,79,23,"image"],[85,30,79,28],[85,32,79,30],[85,33,79,31],[85,35,79,33],[85,36,79,34],[85,37,79,35],[86,8,80,6],[86,15,80,13,"recorder"],[86,23,80,21],[86,24,80,22,"finishRecordingAsPicture"],[86,48,80,46],[86,49,80,47],[86,50,80,48],[87,6,81,4],[87,7,81,5],[87,13,81,11],[88,8,82,6],[88,15,82,13],[88,19,82,17],[89,6,83,4],[90,4,84,2],[90,5,84,3],[90,7,84,5],[90,8,84,6,"size"],[90,12,84,10],[90,14,84,12,"image"],[90,19,84,17],[90,20,84,18],[90,21,84,19],[91,4,85,2],[91,11,85,9,"usePictureAsTexture"],[91,30,85,28],[91,31,85,29,"picture"],[91,38,85,36],[91,40,85,38,"size"],[91,44,85,42],[91,45,85,43],[92,2,86,0],[92,3,86,1],[93,2,86,2,"exports"],[93,9,86,2],[93,10,86,2,"useImageAsTexture"],[93,27,86,2],[93,30,86,2,"useImageAsTexture"],[93,47,86,2],[94,0,86,2],[94,3]],"functionMap":{"names":["<global>","createTexture","useTexture","useEffect$argument_0","drawAsPicture.then$argument_0","usePictureAsTexture","useImageAsTexture","useMemo$argument_0"],"mappings":"AAA;sBCkB;CDO;0BEE;YCO;YCM;KDE;GDE;CFE;mCKE;YFK;GEI;CLE;iCME;uBCE;GDK;0BCC;GDc;CNE"}},"type":"js/module"}]}