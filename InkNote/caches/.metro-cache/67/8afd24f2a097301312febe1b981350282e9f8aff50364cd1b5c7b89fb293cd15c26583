{"dependencies":[{"name":"../../skia/core/AnimatedImage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":72},"end":{"line":3,"column":65,"index":137}}],"key":"LhU/Px6ZGN7Mh77TF9+qamLywNY=","exportNames":["*"],"imports":1}},{"name":"./ReanimatedProxy","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":205},"end":{"line":6,"column":36,"index":241}}],"key":"9/hMKtQD5ZrdSt9i8tblq1v6X3Y=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAnimatedImageValue\", {\n    enumerable: true,\n    get: function () {\n      return useAnimatedImageValue;\n    }\n  });\n  var _skiaCoreAnimatedImage = require(_dependencyMap[0], \"../../skia/core/AnimatedImage\");\n  var _ReanimatedProxy = require(_dependencyMap[1], \"./ReanimatedProxy\");\n  var Rea = _interopDefault(_ReanimatedProxy);\n  var DEFAULT_FRAME_DURATION = 60;\n  var _worklet_10511549111576_init_data = {\n    code: \"function shopify_useAnimatedImageValueTs1(frameInfo){const{animatedImage,currentFrame,isPaused,lastTimestamp,frameDuration}=this.__closure;if(!animatedImage){currentFrame.value=null;return;}if(isPaused.value&&lastTimestamp.value!==-1){return;}const{timestamp:timestamp}=frameInfo;const elapsed=timestamp-lastTimestamp.value;if(elapsed<frameDuration){return;}animatedImage.decodeNextFrame();const oldFrame=currentFrame.value;currentFrame.value=animatedImage.getCurrentFrame();if(oldFrame){oldFrame.dispose();}lastTimestamp.value=timestamp;}\",\n    location: \"/Users/siddharth/projects/InkNote/InkNote/node_modules/@shopify/react-native-skia/src/external/reanimated/useAnimatedImageValue.ts\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shopify_useAnimatedImageValueTs1\\\",\\\"frameInfo\\\",\\\"animatedImage\\\",\\\"currentFrame\\\",\\\"isPaused\\\",\\\"lastTimestamp\\\",\\\"frameDuration\\\",\\\"__closure\\\",\\\"value\\\",\\\"timestamp\\\",\\\"elapsed\\\",\\\"decodeNextFrame\\\",\\\"oldFrame\\\",\\\"getCurrentFrame\\\",\\\"dispose\\\"],\\\"sources\\\":[\\\"/Users/siddharth/projects/InkNote/InkNote/node_modules/@shopify/react-native-skia/src/external/reanimated/useAnimatedImageValue.ts\\\"],\\\"mappings\\\":\\\"AAwBuB,QAAC,CAAAA,gCAAyBA,CAAAC,SAAA,QAAAC,aAAA,CAAAC,YAAA,CAAAC,QAAA,CAAAC,aAAA,CAAAC,aAAA,OAAAC,SAAA,CAC7C,GAAI,CAACL,aAAa,CAAE,CAClBC,YAAY,CAACK,KAAK,CAAG,IAAI,CACzB,OACF,CACA,GAAIJ,QAAQ,CAACI,KAAK,EAAIH,aAAa,CAACG,KAAK,GAAK,CAAC,CAAC,CAAE,CAChD,OACF,CACA,KAAM,CAAEC,SAAA,CAAAA,SAAU,CAAC,CAAGR,SAAS,CAC/B,KAAM,CAAAS,OAAO,CAAGD,SAAS,CAAGJ,aAAa,CAACG,KAAK,CAG/C,GAAIE,OAAO,CAAGJ,aAAa,CAAE,CAC3B,OACF,CAGAJ,aAAa,CAACS,eAAe,CAAC,CAAC,CAC/B,KAAM,CAAAC,QAAQ,CAAGT,YAAY,CAACK,KAAK,CACnCL,YAAY,CAACK,KAAK,CAAGN,aAAa,CAACW,eAAe,CAAC,CAAC,CACpD,GAAID,QAAQ,CAAE,CACZA,QAAQ,CAACE,OAAO,CAAC,CAAC,CACpB,CAGAT,aAAa,CAACG,KAAK,CAAGC,SAAS,CACjC\\\",\\\"ignoreList\\\":[]}\"\n  };\n  var useAnimatedImageValue = (source, paused) => {\n    var defaultPaused = Rea.default.useSharedValue(false);\n    var isPaused = paused ?? defaultPaused;\n    var currentFrame = Rea.default.useSharedValue(null);\n    var lastTimestamp = Rea.default.useSharedValue(-1);\n    var animatedImage = (0, _skiaCoreAnimatedImage.useAnimatedImage)(source, err => {\n      console.error(err);\n      throw new Error(`Could not load animated image - got '${err.message}'`);\n    });\n    var frameDuration = animatedImage?.currentFrameDuration() || DEFAULT_FRAME_DURATION;\n    Rea.default.useFrameCallback(function shopify_useAnimatedImageValueTs1Factory(_ref) {\n      var _worklet_10511549111576_init_data = _ref._worklet_10511549111576_init_data,\n        animatedImage = _ref.animatedImage,\n        currentFrame = _ref.currentFrame,\n        isPaused = _ref.isPaused,\n        lastTimestamp = _ref.lastTimestamp,\n        frameDuration = _ref.frameDuration;\n      var _e = [new global.Error(), -6, -27];\n      var shopify_useAnimatedImageValueTs1 = function (frameInfo) {\n        if (!animatedImage) {\n          currentFrame.value = null;\n          return;\n        }\n        if (isPaused.value && lastTimestamp.value !== -1) {\n          return;\n        }\n        var timestamp = frameInfo.timestamp;\n        var elapsed = timestamp - lastTimestamp.value;\n\n        // Check if it's time to switch frames based on GIF frame duration\n        if (elapsed < frameDuration) {\n          return;\n        }\n\n        // Update the current frame\n        animatedImage.decodeNextFrame();\n        var oldFrame = currentFrame.value;\n        currentFrame.value = animatedImage.getCurrentFrame();\n        if (oldFrame) {\n          oldFrame.dispose();\n        }\n\n        // Update the last timestamp\n        lastTimestamp.value = timestamp;\n      };\n      shopify_useAnimatedImageValueTs1.__closure = {\n        animatedImage,\n        currentFrame,\n        isPaused,\n        lastTimestamp,\n        frameDuration\n      };\n      shopify_useAnimatedImageValueTs1.__workletHash = 10511549111576;\n      shopify_useAnimatedImageValueTs1.__pluginVersion = \"0.5.1\";\n      shopify_useAnimatedImageValueTs1.__initData = _worklet_10511549111576_init_data;\n      shopify_useAnimatedImageValueTs1.__stackDetails = _e;\n      return shopify_useAnimatedImageValueTs1;\n    }({\n      _worklet_10511549111576_init_data,\n      animatedImage,\n      currentFrame,\n      isPaused,\n      lastTimestamp,\n      frameDuration\n    }));\n    return currentFrame;\n  };\n});","lineCount":94,"map":[[12,2,10,0,"Object"],[12,8,10,0],[12,9,10,0,"defineProperty"],[12,23,10,0],[12,24,10,0,"exports"],[12,31,10,0],[13,4,10,0,"enumerable"],[13,14,10,0],[14,4,10,0,"get"],[14,7,10,0],[14,18,10,0,"get"],[14,19,10,0],[15,6,10,0],[15,13,10,0,"useAnimatedImageValue"],[15,34,10,0],[16,4,10,0],[17,2,10,0],[18,2,3,0],[18,6,3,0,"_skiaCoreAnimatedImage"],[18,28,3,0],[18,31,3,0,"require"],[18,38,3,0],[18,39,3,0,"_dependencyMap"],[18,53,3,0],[19,2,6,0],[19,6,6,0,"_ReanimatedProxy"],[19,22,6,0],[19,25,6,0,"require"],[19,32,6,0],[19,33,6,0,"_dependencyMap"],[19,47,6,0],[20,2,6,0],[20,6,6,0,"Rea"],[20,9,6,0],[20,12,6,0,"_interopDefault"],[20,27,6,0],[20,28,6,0,"_ReanimatedProxy"],[20,44,6,0],[21,2,8,0],[21,6,8,6,"DEFAULT_FRAME_DURATION"],[21,28,8,28],[21,31,8,31],[21,33,8,33],[22,2,8,34],[22,6,8,34,"_worklet_10511549111576_init_data"],[22,39,8,34],[23,4,8,34,"code"],[23,8,8,34],[24,4,8,34,"location"],[24,12,8,34],[25,4,8,34,"sourceMap"],[25,13,8,34],[26,2,8,34],[27,2,10,7],[27,6,10,13,"useAnimatedImageValue"],[27,27,10,34],[27,30,10,37,"useAnimatedImageValue"],[27,31,11,2,"source"],[27,37,11,25],[27,39,12,2,"paused"],[27,45,12,31],[27,50,13,5],[28,4,14,2],[28,8,14,8,"defaultPaused"],[28,21,14,21],[28,24,14,24,"Rea"],[28,27,14,27],[28,28,14,27,"default"],[28,35,14,27],[28,36,14,28,"useSharedValue"],[28,50,14,42],[28,51,14,43],[28,56,14,48],[28,57,14,49],[29,4,15,2],[29,8,15,8,"isPaused"],[29,16,15,16],[29,19,15,19,"paused"],[29,25,15,25],[29,29,15,29,"defaultPaused"],[29,42,15,42],[30,4,16,2],[30,8,16,8,"currentFrame"],[30,20,16,20],[30,23,16,23,"Rea"],[30,26,16,26],[30,27,16,26,"default"],[30,34,16,26],[30,35,16,27,"useSharedValue"],[30,49,16,41],[30,50,16,58],[30,54,16,62],[30,55,16,63],[31,4,17,2],[31,8,17,8,"lastTimestamp"],[31,21,17,21],[31,24,17,24,"Rea"],[31,27,17,27],[31,28,17,27,"default"],[31,35,17,27],[31,36,17,28,"useSharedValue"],[31,50,17,42],[31,51,17,43],[31,52,17,44],[31,53,17,45],[31,54,17,46],[32,4,18,2],[32,8,18,8,"animatedImage"],[32,21,18,21],[32,24,18,24],[32,28,18,24,"useAnimatedImage"],[32,50,18,40],[32,51,18,40,"useAnimatedImage"],[32,67,18,40],[32,69,18,41,"source"],[32,75,18,47],[32,77,18,50,"err"],[32,80,18,53],[32,84,18,58],[33,6,19,4,"console"],[33,13,19,11],[33,14,19,12,"error"],[33,19,19,17],[33,20,19,18,"err"],[33,23,19,21],[33,24,19,22],[34,6,20,4],[34,12,20,10],[34,16,20,14,"Error"],[34,21,20,19],[34,22,20,20],[34,62,20,60,"err"],[34,65,20,63],[34,66,20,64,"message"],[34,73,20,71],[34,76,20,74],[34,77,20,75],[35,4,21,2],[35,5,21,3],[35,6,21,4],[36,4,22,2],[36,8,22,8,"frameDuration"],[36,21,22,21],[36,24,23,4,"animatedImage"],[36,37,23,17],[36,39,23,19,"currentFrameDuration"],[36,59,23,39],[36,60,23,40],[36,61,23,41],[36,65,23,45,"DEFAULT_FRAME_DURATION"],[36,87,23,67],[37,4,25,2,"Rea"],[37,7,25,5],[37,8,25,5,"default"],[37,15,25,5],[37,16,25,6,"useFrameCallback"],[37,32,25,22],[37,33,25,23],[37,42,25,23,"shopify_useAnimatedImageValueTs1Factory"],[37,82,25,23,"_ref"],[37,86,25,23],[38,6,25,23],[38,10,25,23,"_worklet_10511549111576_init_data"],[38,43,25,23],[38,46,25,23,"_ref"],[38,50,25,23],[38,51,25,23,"_worklet_10511549111576_init_data"],[38,84,25,23],[39,8,26,9,"animatedImage"],[39,21,26,22],[39,24,26,22,"_ref"],[39,28,26,22],[39,29,26,9,"animatedImage"],[39,42,26,22],[40,8,27,6,"currentFrame"],[40,20,27,18],[40,23,27,18,"_ref"],[40,27,27,18],[40,28,27,6,"currentFrame"],[40,40,27,18],[41,8,30,8,"isPaused"],[41,16,30,16],[41,19,30,16,"_ref"],[41,23,30,16],[41,24,30,8,"isPaused"],[41,32,30,16],[42,8,30,26,"lastTimestamp"],[42,21,30,39],[42,24,30,39,"_ref"],[42,28,30,39],[42,29,30,26,"lastTimestamp"],[42,42,30,39],[43,8,37,18,"frameDuration"],[43,21,37,31],[43,24,37,31,"_ref"],[43,28,37,31],[43,29,37,18,"frameDuration"],[43,42,37,31],[44,6,37,31],[44,10,37,31,"_e"],[44,12,37,31],[44,20,37,31,"global"],[44,26,37,31],[44,27,37,31,"Error"],[44,32,37,31],[45,6,37,31],[45,10,37,31,"shopify_useAnimatedImageValueTs1"],[45,42,37,31],[45,54,37,31,"shopify_useAnimatedImageValueTs1"],[45,55,25,24,"frameInfo"],[45,64,25,44],[45,66,25,49],[46,8,26,4],[46,12,26,8],[46,13,26,9,"animatedImage"],[46,26,26,22],[46,28,26,24],[47,10,27,6,"currentFrame"],[47,22,27,18],[47,23,27,19,"value"],[47,28,27,24],[47,31,27,27],[47,35,27,31],[48,10,28,6],[49,8,29,4],[50,8,30,4],[50,12,30,8,"isPaused"],[50,20,30,16],[50,21,30,17,"value"],[50,26,30,22],[50,30,30,26,"lastTimestamp"],[50,43,30,39],[50,44,30,40,"value"],[50,49,30,45],[50,54,30,50],[50,55,30,51],[50,56,30,52],[50,58,30,54],[51,10,31,6],[52,8,32,4],[53,8,33,4],[53,12,33,12,"timestamp"],[53,21,33,21],[53,24,33,26,"frameInfo"],[53,33,33,35],[53,34,33,12,"timestamp"],[53,43,33,21],[54,8,34,4],[54,12,34,10,"elapsed"],[54,19,34,17],[54,22,34,20,"timestamp"],[54,31,34,29],[54,34,34,32,"lastTimestamp"],[54,47,34,45],[54,48,34,46,"value"],[54,53,34,51],[56,8,36,4],[57,8,37,4],[57,12,37,8,"elapsed"],[57,19,37,15],[57,22,37,18,"frameDuration"],[57,35,37,31],[57,37,37,33],[58,10,38,6],[59,8,39,4],[61,8,41,4],[62,8,42,4,"animatedImage"],[62,21,42,17],[62,22,42,18,"decodeNextFrame"],[62,37,42,33],[62,38,42,34],[62,39,42,35],[63,8,43,4],[63,12,43,10,"oldFrame"],[63,20,43,18],[63,23,43,21,"currentFrame"],[63,35,43,33],[63,36,43,34,"value"],[63,41,43,39],[64,8,44,4,"currentFrame"],[64,20,44,16],[64,21,44,17,"value"],[64,26,44,22],[64,29,44,25,"animatedImage"],[64,42,44,38],[64,43,44,39,"getCurrentFrame"],[64,58,44,54],[64,59,44,55],[64,60,44,56],[65,8,45,4],[65,12,45,8,"oldFrame"],[65,20,45,16],[65,22,45,18],[66,10,46,6,"oldFrame"],[66,18,46,14],[66,19,46,15,"dispose"],[66,26,46,22],[66,27,46,23],[66,28,46,24],[67,8,47,4],[69,8,49,4],[70,8,50,4,"lastTimestamp"],[70,21,50,17],[70,22,50,18,"value"],[70,27,50,23],[70,30,50,26,"timestamp"],[70,39,50,35],[71,6,51,2],[71,7,51,3],[72,6,51,3,"shopify_useAnimatedImageValueTs1"],[72,38,51,3],[72,39,51,3,"__closure"],[72,48,51,3],[73,8,26,9,"animatedImage"],[73,21,26,22],[74,8,27,6,"currentFrame"],[74,20,27,18],[75,8,30,8,"isPaused"],[75,16,30,16],[76,8,30,26,"lastTimestamp"],[76,21,30,39],[77,8,37,18,"frameDuration"],[78,6,37,31],[79,6,37,31,"shopify_useAnimatedImageValueTs1"],[79,38,37,31],[79,39,37,31,"__workletHash"],[79,52,37,31],[80,6,37,31,"shopify_useAnimatedImageValueTs1"],[80,38,37,31],[80,39,37,31,"__pluginVersion"],[80,54,37,31],[81,6,37,31,"shopify_useAnimatedImageValueTs1"],[81,38,37,31],[81,39,37,31,"__initData"],[81,49,37,31],[81,52,37,31,"_worklet_10511549111576_init_data"],[81,85,37,31],[82,6,37,31,"shopify_useAnimatedImageValueTs1"],[82,38,37,31],[82,39,37,31,"__stackDetails"],[82,53,37,31],[82,56,37,31,"_e"],[82,58,37,31],[83,6,37,31],[83,13,37,31,"shopify_useAnimatedImageValueTs1"],[83,45,37,31],[84,4,37,31],[84,5,25,23],[85,6,25,23,"_worklet_10511549111576_init_data"],[85,39,25,23],[86,6,26,9,"animatedImage"],[86,19,26,22],[87,6,27,6,"currentFrame"],[87,18,27,18],[88,6,30,8,"isPaused"],[88,14,30,16],[89,6,30,26,"lastTimestamp"],[89,19,30,39],[90,6,37,18,"frameDuration"],[91,4,37,31],[91,6,51,3],[91,7,51,4],[92,4,52,2],[92,11,52,9,"currentFrame"],[92,23,52,21],[93,2,53,0],[93,3,53,1],[94,0,53,2],[94,3]],"functionMap":{"names":["<global>","useAnimatedImageValue","useAnimatedImage$argument_1","Rea.useFrameCallback$argument_0"],"mappings":"AAA;qCCS;iDCQ;GDG;uBEI;GF0B;CDE"},"hasCjsExports":false},"type":"js/module"}]}