{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":33},"end":{"line":9,"column":15,"index":155}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"../views/SkiaViewNativeId","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":283},"end":{"line":13,"column":61,"index":344}}],"key":"7DWwPkfgG1Q89/Nd42kJAUC0nNM=","exportNames":["*"]}},{"name":"../specs/SkiaPictureViewNativeComponent","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":345},"end":{"line":14,"column":85,"index":430}}],"key":"4B/g8ZsGSh9nR+Z123h04QLYI+Y=","exportNames":["*"]}},{"name":"../sksg/Reconciler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":16,"column":0,"index":493},"end":{"line":16,"column":48,"index":541}}],"key":"DeHs3WhMLPm5P1oaJyJ8IyGNIPY=","exportNames":["*"]}},{"name":"../skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":542},"end":{"line":17,"column":31,"index":573}}],"key":"Lpu2nVaO1EXd4ggU7Psxd64qAx4=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useCanvasRef = exports.Canvas = void 0;\n  var _objectWithoutProperties2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/objectWithoutProperties\"));\n  var _react = _interopRequireWildcard(require(_dependencyMap[2], \"react\"));\n  var _SkiaViewNativeId = require(_dependencyMap[3], \"../views/SkiaViewNativeId\");\n  var _SkiaPictureViewNativeComponent = _interopRequireDefault(require(_dependencyMap[4], \"../specs/SkiaPictureViewNativeComponent\"));\n  var _Reconciler = require(_dependencyMap[5], \"../sksg/Reconciler\");\n  var _skia = require(_dependencyMap[6], \"../skia\");\n  var _jsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  var _excluded = [\"debug\", \"opaque\", \"children\", \"onSize\", \"onLayout\", \"ref\"];\n  var _jsxFileName = \"/Users/siddharth/projects/mobile/node_modules/@shopify/react-native-skia/src/renderer/Canvas.tsx\";\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  var useCanvasRef = () => (0, _react.useRef)(null);\n\n  //const NativeSkiaPictureView = SkiaPictureViewNativeComponent;\n\n  // TODO: no need to go through the JS thread for this\n  exports.useCanvasRef = useCanvasRef;\n  var useOnSizeEvent = (resultValue, onLayout) => {\n    return (0, _react.useCallback)(event => {\n      if (onLayout) {\n        onLayout(event);\n      }\n      var _event$nativeEvent$la = event.nativeEvent.layout,\n        width = _event$nativeEvent$la.width,\n        height = _event$nativeEvent$la.height;\n      if (resultValue) {\n        resultValue.value = {\n          width,\n          height\n        };\n      }\n    }, [onLayout, resultValue]);\n  };\n  var Canvas = _ref => {\n    var debug = _ref.debug,\n      opaque = _ref.opaque,\n      children = _ref.children,\n      onSize = _ref.onSize,\n      _onLayout = _ref.onLayout,\n      ref = _ref.ref,\n      viewProps = (0, _objectWithoutProperties2.default)(_ref, _excluded);\n    var onLayout = useOnSizeEvent(onSize, _onLayout);\n    // Native ID\n    var nativeId = (0, _react.useMemo)(() => {\n      return _SkiaViewNativeId.SkiaViewNativeId.current++;\n    }, []);\n\n    // Root\n    var root = (0, _react.useMemo)(() => new _Reconciler.SkiaSGRoot(_skia.Skia, nativeId), [nativeId]);\n\n    // Render effects\n    (0, _react.useLayoutEffect)(() => {\n      root.render(children);\n    }, [children, root]);\n    (0, _react.useEffect)(() => {\n      return () => {\n        root.unmount();\n      };\n    }, [root]);\n\n    // Component methods\n    (0, _react.useImperativeHandle)(ref, () => ({\n      makeImageSnapshot: rect => {\n        return SkiaViewApi.makeImageSnapshot(nativeId, rect);\n      },\n      makeImageSnapshotAsync: rect => {\n        return SkiaViewApi.makeImageSnapshotAsync(nativeId, rect);\n      },\n      redraw: () => {\n        SkiaViewApi.requestRedraw(nativeId);\n      },\n      getNativeId: () => {\n        return nativeId;\n      }\n    }));\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_SkiaPictureViewNativeComponent.default, {\n      collapsable: false,\n      nativeID: `${nativeId}`,\n      debug: debug,\n      opaque: opaque,\n      onLayout: onLayout,\n      ...viewProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this);\n  };\n  exports.Canvas = Canvas;\n});","lineCount":95,"map":[[8,2,2,0],[8,6,2,0,"_react"],[8,12,2,0],[8,15,2,0,"_interopRequireWildcard"],[8,38,2,0],[8,39,2,0,"require"],[8,46,2,0],[8,47,2,0,"_dependencyMap"],[8,61,2,0],[9,2,13,0],[9,6,13,0,"_SkiaViewNativeId"],[9,23,13,0],[9,26,13,0,"require"],[9,33,13,0],[9,34,13,0,"_dependencyMap"],[9,48,13,0],[10,2,14,0],[10,6,14,0,"_SkiaPictureViewNativeComponent"],[10,37,14,0],[10,40,14,0,"_interopRequireDefault"],[10,62,14,0],[10,63,14,0,"require"],[10,70,14,0],[10,71,14,0,"_dependencyMap"],[10,85,14,0],[11,2,16,0],[11,6,16,0,"_Reconciler"],[11,17,16,0],[11,20,16,0,"require"],[11,27,16,0],[11,28,16,0,"_dependencyMap"],[11,42,16,0],[12,2,17,0],[12,6,17,0,"_skia"],[12,11,17,0],[12,14,17,0,"require"],[12,21,17,0],[12,22,17,0,"_dependencyMap"],[12,36,17,0],[13,2,17,31],[13,6,17,31,"_jsxDevRuntime"],[13,20,17,31],[13,23,17,31,"require"],[13,30,17,31],[13,31,17,31,"_dependencyMap"],[13,45,17,31],[14,2,17,31],[14,6,17,31,"_excluded"],[14,15,17,31],[15,2,17,31],[15,6,17,31,"_jsxFileName"],[15,18,17,31],[16,2,17,31],[16,11,17,31,"_interopRequireWildcard"],[16,35,17,31,"e"],[16,36,17,31],[16,38,17,31,"t"],[16,39,17,31],[16,68,17,31,"WeakMap"],[16,75,17,31],[16,81,17,31,"r"],[16,82,17,31],[16,89,17,31,"WeakMap"],[16,96,17,31],[16,100,17,31,"n"],[16,101,17,31],[16,108,17,31,"WeakMap"],[16,115,17,31],[16,127,17,31,"_interopRequireWildcard"],[16,150,17,31],[16,162,17,31,"_interopRequireWildcard"],[16,163,17,31,"e"],[16,164,17,31],[16,166,17,31,"t"],[16,167,17,31],[16,176,17,31,"t"],[16,177,17,31],[16,181,17,31,"e"],[16,182,17,31],[16,186,17,31,"e"],[16,187,17,31],[16,188,17,31,"__esModule"],[16,198,17,31],[16,207,17,31,"e"],[16,208,17,31],[16,214,17,31,"o"],[16,215,17,31],[16,217,17,31,"i"],[16,218,17,31],[16,220,17,31,"f"],[16,221,17,31],[16,226,17,31,"__proto__"],[16,235,17,31],[16,243,17,31,"default"],[16,250,17,31],[16,252,17,31,"e"],[16,253,17,31],[16,270,17,31,"e"],[16,271,17,31],[16,294,17,31,"e"],[16,295,17,31],[16,320,17,31,"e"],[16,321,17,31],[16,330,17,31,"f"],[16,331,17,31],[16,337,17,31,"o"],[16,338,17,31],[16,341,17,31,"t"],[16,342,17,31],[16,345,17,31,"n"],[16,346,17,31],[16,349,17,31,"r"],[16,350,17,31],[16,358,17,31,"o"],[16,359,17,31],[16,360,17,31,"has"],[16,363,17,31],[16,364,17,31,"e"],[16,365,17,31],[16,375,17,31,"o"],[16,376,17,31],[16,377,17,31,"get"],[16,380,17,31],[16,381,17,31,"e"],[16,382,17,31],[16,385,17,31,"o"],[16,386,17,31],[16,387,17,31,"set"],[16,390,17,31],[16,391,17,31,"e"],[16,392,17,31],[16,394,17,31,"f"],[16,395,17,31],[16,409,17,31,"_t"],[16,411,17,31],[16,415,17,31,"e"],[16,416,17,31],[16,432,17,31,"_t"],[16,434,17,31],[16,441,17,31,"hasOwnProperty"],[16,455,17,31],[16,456,17,31,"call"],[16,460,17,31],[16,461,17,31,"e"],[16,462,17,31],[16,464,17,31,"_t"],[16,466,17,31],[16,473,17,31,"i"],[16,474,17,31],[16,478,17,31,"o"],[16,479,17,31],[16,482,17,31,"Object"],[16,488,17,31],[16,489,17,31,"defineProperty"],[16,503,17,31],[16,508,17,31,"Object"],[16,514,17,31],[16,515,17,31,"getOwnPropertyDescriptor"],[16,539,17,31],[16,540,17,31,"e"],[16,541,17,31],[16,543,17,31,"_t"],[16,545,17,31],[16,552,17,31,"i"],[16,553,17,31],[16,554,17,31,"get"],[16,557,17,31],[16,561,17,31,"i"],[16,562,17,31],[16,563,17,31,"set"],[16,566,17,31],[16,570,17,31,"o"],[16,571,17,31],[16,572,17,31,"f"],[16,573,17,31],[16,575,17,31,"_t"],[16,577,17,31],[16,579,17,31,"i"],[16,580,17,31],[16,584,17,31,"f"],[16,585,17,31],[16,586,17,31,"_t"],[16,588,17,31],[16,592,17,31,"e"],[16,593,17,31],[16,594,17,31,"_t"],[16,596,17,31],[16,607,17,31,"f"],[16,608,17,31],[16,613,17,31,"e"],[16,614,17,31],[16,616,17,31,"t"],[16,617,17,31],[17,2,27,7],[17,6,27,13,"useCanvasRef"],[17,18,27,25],[17,21,27,28,"useCanvasRef"],[17,22,27,28],[17,27,27,34],[17,31,27,34,"useRef"],[17,44,27,40],[17,46,27,52],[17,50,27,56],[17,51,27,57],[19,2,29,0],[21,2,31,0],[22,2,31,0,"exports"],[22,9,31,0],[22,10,31,0,"useCanvasRef"],[22,22,31,0],[22,25,31,0,"useCanvasRef"],[22,37,31,0],[23,2,32,0],[23,6,32,6,"useOnSizeEvent"],[23,20,32,20],[23,23,32,23,"useOnSizeEvent"],[23,24,33,2,"resultValue"],[23,35,33,42],[23,37,34,2,"onLayout"],[23,45,34,47],[23,50,35,5],[24,4,36,2],[24,11,36,9],[24,15,36,9,"useCallback"],[24,33,36,20],[24,35,37,5,"event"],[24,40,37,29],[24,44,37,34],[25,6,38,6],[25,10,38,10,"onLayout"],[25,18,38,18],[25,20,38,20],[26,8,39,8,"onLayout"],[26,16,39,16],[26,17,39,17,"event"],[26,22,39,22],[26,23,39,23],[27,6,40,6],[28,6,41,6],[28,10,41,6,"_event$nativeEvent$la"],[28,31,41,6],[28,34,41,32,"event"],[28,39,41,37],[28,40,41,38,"nativeEvent"],[28,51,41,49],[28,52,41,50,"layout"],[28,58,41,56],[29,8,41,14,"width"],[29,13,41,19],[29,16,41,19,"_event$nativeEvent$la"],[29,37,41,19],[29,38,41,14,"width"],[29,43,41,19],[30,8,41,21,"height"],[30,14,41,27],[30,17,41,27,"_event$nativeEvent$la"],[30,38,41,27],[30,39,41,21,"height"],[30,45,41,27],[31,6,43,6],[31,10,43,10,"resultValue"],[31,21,43,21],[31,23,43,23],[32,8,44,8,"resultValue"],[32,19,44,19],[32,20,44,20,"value"],[32,25,44,25],[32,28,44,28],[33,10,44,30,"width"],[33,15,44,35],[34,10,44,37,"height"],[35,8,44,44],[35,9,44,45],[36,6,45,6],[37,4,46,4],[37,5,46,5],[37,7,47,4],[37,8,47,5,"onLayout"],[37,16,47,13],[37,18,47,15,"resultValue"],[37,29,47,26],[37,30,48,2],[37,31,48,3],[38,2,49,0],[38,3,49,1],[39,2,58,7],[39,6,58,13,"Canvas"],[39,12,58,19],[39,15,58,22,"_ref"],[39,19,58,22],[39,23,66,19],[40,4,66,19],[40,8,59,2,"debug"],[40,13,59,7],[40,16,59,7,"_ref"],[40,20,59,7],[40,21,59,2,"debug"],[40,26,59,7],[41,6,60,2,"opaque"],[41,12,60,8],[41,15,60,8,"_ref"],[41,19,60,8],[41,20,60,2,"opaque"],[41,26,60,8],[42,6,61,2,"children"],[42,14,61,10],[42,17,61,10,"_ref"],[42,21,61,10],[42,22,61,2,"children"],[42,30,61,10],[43,6,62,2,"onSize"],[43,12,62,8],[43,15,62,8,"_ref"],[43,19,62,8],[43,20,62,2,"onSize"],[43,26,62,8],[44,6,63,12,"_onLayout"],[44,15,63,21],[44,18,63,21,"_ref"],[44,22,63,21],[44,23,63,2,"onLayout"],[44,31,63,10],[45,6,64,2,"ref"],[45,9,64,5],[45,12,64,5,"_ref"],[45,16,64,5],[45,17,64,2,"ref"],[45,20,64,5],[46,6,65,5,"viewProps"],[46,15,65,14],[46,22,65,14,"_objectWithoutProperties2"],[46,47,65,14],[46,48,65,14,"default"],[46,55,65,14],[46,57,65,14,"_ref"],[46,61,65,14],[46,63,65,14,"_excluded"],[46,72,65,14],[47,4,67,2],[47,8,67,8,"onLayout"],[47,16,67,16],[47,19,67,19,"useOnSizeEvent"],[47,33,67,33],[47,34,67,34,"onSize"],[47,40,67,40],[47,42,67,42,"_onLayout"],[47,51,67,51],[47,52,67,52],[48,4,68,2],[49,4,69,2],[49,8,69,8,"nativeId"],[49,16,69,16],[49,19,69,19],[49,23,69,19,"useMemo"],[49,37,69,26],[49,39,69,27],[49,45,69,33],[50,6,70,4],[50,13,70,11,"SkiaViewNativeId"],[50,47,70,27],[50,48,70,28,"current"],[50,55,70,35],[50,57,70,37],[51,4,71,2],[51,5,71,3],[51,7,71,5],[51,9,71,7],[51,10,71,8],[53,4,73,2],[54,4,74,2],[54,8,74,8,"root"],[54,12,74,12],[54,15,74,15],[54,19,74,15,"useMemo"],[54,33,74,22],[54,35,74,23],[54,41,74,29],[54,45,74,33,"SkiaSGRoot"],[54,67,74,43],[54,68,74,44,"Skia"],[54,78,74,48],[54,80,74,50,"nativeId"],[54,88,74,58],[54,89,74,59],[54,91,74,61],[54,92,74,62,"nativeId"],[54,100,74,70],[54,101,74,71],[54,102,74,72],[56,4,76,2],[57,4,77,2],[57,8,77,2,"useLayoutEffect"],[57,30,77,17],[57,32,77,18],[57,38,77,24],[58,6,78,4,"root"],[58,10,78,8],[58,11,78,9,"render"],[58,17,78,15],[58,18,78,16,"children"],[58,26,78,24],[58,27,78,25],[59,4,79,2],[59,5,79,3],[59,7,79,5],[59,8,79,6,"children"],[59,16,79,14],[59,18,79,16,"root"],[59,22,79,20],[59,23,79,21],[59,24,79,22],[60,4,81,2],[60,8,81,2,"useEffect"],[60,24,81,11],[60,26,81,12],[60,32,81,18],[61,6,82,4],[61,13,82,11],[61,19,82,17],[62,8,83,6,"root"],[62,12,83,10],[62,13,83,11,"unmount"],[62,20,83,18],[62,21,83,19],[62,22,83,20],[63,6,84,4],[63,7,84,5],[64,4,85,2],[64,5,85,3],[64,7,85,5],[64,8,85,6,"root"],[64,12,85,10],[64,13,85,11],[64,14,85,12],[66,4,87,2],[67,4,88,2],[67,8,88,2,"useImperativeHandle"],[67,34,88,21],[67,36,89,4,"ref"],[67,39,89,7],[67,41,90,4],[67,48,91,7],[68,6,92,8,"makeImageSnapshot"],[68,23,92,25],[68,25,92,28,"rect"],[68,29,92,41],[68,33,92,46],[69,8,93,10],[69,15,93,17,"SkiaViewApi"],[69,26,93,28],[69,27,93,29,"makeImageSnapshot"],[69,44,93,46],[69,45,93,47,"nativeId"],[69,53,93,55],[69,55,93,57,"rect"],[69,59,93,61],[69,60,93,62],[70,6,94,8],[70,7,94,9],[71,6,95,8,"makeImageSnapshotAsync"],[71,28,95,30],[71,30,95,33,"rect"],[71,34,95,46],[71,38,95,51],[72,8,96,10],[72,15,96,17,"SkiaViewApi"],[72,26,96,28],[72,27,96,29,"makeImageSnapshotAsync"],[72,49,96,51],[72,50,96,52,"nativeId"],[72,58,96,60],[72,60,96,62,"rect"],[72,64,96,66],[72,65,96,67],[73,6,97,8],[73,7,97,9],[74,6,98,8,"redraw"],[74,12,98,14],[74,14,98,16,"redraw"],[74,15,98,16],[74,20,98,22],[75,8,99,10,"SkiaViewApi"],[75,19,99,21],[75,20,99,22,"requestRedraw"],[75,33,99,35],[75,34,99,36,"nativeId"],[75,42,99,44],[75,43,99,45],[76,6,100,8],[76,7,100,9],[77,6,101,8,"getNativeId"],[77,17,101,19],[77,19,101,21,"getNativeId"],[77,20,101,21],[77,25,101,27],[78,8,102,10],[78,15,102,17,"nativeId"],[78,23,102,25],[79,6,103,8],[80,4,104,6],[80,5,104,7],[80,6,105,2],[80,7,105,3],[81,4,106,2],[81,24,107,4],[81,28,107,4,"_jsxDevRuntime"],[81,42,107,4],[81,43,107,4,"jsxDEV"],[81,49,107,4],[81,51,107,5,"_SkiaPictureViewNativeComponent"],[81,82,107,5],[81,83,107,5,"default"],[81,90,107,35],[82,6,108,6,"collapsable"],[82,17,108,17],[82,19,108,19],[82,24,108,25],[83,6,109,6,"nativeID"],[83,14,109,14],[83,16,109,16],[83,19,109,19,"nativeId"],[83,27,109,27],[83,29,109,30],[84,6,110,6,"debug"],[84,11,110,11],[84,13,110,13,"debug"],[84,18,110,19],[85,6,111,6,"opaque"],[85,12,111,12],[85,14,111,14,"opaque"],[85,20,111,21],[86,6,112,6,"onLayout"],[86,14,112,14],[86,16,112,16,"onLayout"],[86,24,112,25],[87,6,112,25],[87,9,113,10,"viewProps"],[88,4,113,19],[89,6,113,19,"fileName"],[89,14,113,19],[89,16,113,19,"_jsxFileName"],[89,28,113,19],[90,6,113,19,"lineNumber"],[90,16,113,19],[91,6,113,19,"columnNumber"],[91,18,113,19],[92,4,113,19],[92,11,114,5],[92,12,114,6],[93,2,116,0],[93,3,116,1],[94,2,116,2,"exports"],[94,9,116,2],[94,10,116,2,"Canvas"],[94,16,116,2],[94,19,116,2,"Canvas"],[94,25,116,2],[95,0,116,2],[95,3]],"functionMap":{"names":["<global>","useCanvasRef","useOnSizeEvent","<anonymous>","Canvas","useMemo$argument_0","useLayoutEffect$argument_0","useEffect$argument_0","useImperativeHandle$argument_1","makeImageSnapshot","makeImageSnapshotAsync","redraw","getNativeId"],"mappings":"AAA;4BC0B,6BD;uBEK;ICK;KDS;CFG;sBIS;2BCW;GDE;uBCG,oCD;kBEG;GFE;YGE;WJC;KIE;GHC;IIK;2BCE;SDE;gCEC;SFE;gBGC;SHE;qBIC;SJE;qBJC;CJY"}},"type":"js/module"}]}