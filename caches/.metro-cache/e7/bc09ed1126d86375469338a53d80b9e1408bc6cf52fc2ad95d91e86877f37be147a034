{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"../skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":108},"end":{"line":4,"column":31,"index":139}}],"key":"Lpu2nVaO1EXd4ggU7Psxd64qAx4=","exportNames":["*"]}},{"name":"../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":140},"end":{"line":5,"column":39,"index":179}}],"key":"SkcN7Zi2IL0pUxWZCaWeI65icek=","exportNames":["*"]}},{"name":"../sksg/Reconciler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":180},"end":{"line":6,"column":48,"index":228}}],"key":"DeHs3WhMLPm5P1oaJyJ8IyGNIPY=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.isOnMainThread = exports.drawAsPicture = exports.drawAsImageFromPicture = exports.drawAsImage = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _skia = require(_dependencyMap[2], \"../skia\");\n  var _Platform = require(_dependencyMap[3], \"../Platform\");\n  var _Reconciler = require(_dependencyMap[4], \"../sksg/Reconciler\");\n  // We call it main thread because on web main is JS thread\n  var _worklet_2360777870161_init_data = {\n    code: \"function shopify_OffscreenTsx1(){const{Platform}=this.__closure;return typeof _WORKLET!==\\\"undefined\\\"&&_WORKLET===true||Platform.OS===\\\"web\\\";}\",\n    location: \"/Users/siddharth/projects/mobile/node_modules/@shopify/react-native-skia/src/renderer/Offscreen.tsx\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shopify_OffscreenTsx1\\\",\\\"Platform\\\",\\\"__closure\\\",\\\"_WORKLET\\\",\\\"OS\\\"],\\\"sources\\\":[\\\"/Users/siddharth/projects/mobile/node_modules/@shopify/react-native-skia/src/renderer/Offscreen.tsx\\\"],\\\"mappings\\\":\\\"AAQ8B,SAAAA,qBAAMA,CAAA,QAAAC,QAAA,OAAAC,SAAA,CAElC,MACG,OAAO,CAAAC,QAAQ,GAAK,WAAW,EAAIA,QAAQ,GAAK,IAAI,EACrDF,QAAQ,CAACG,EAAE,GAAK,KAAK,CAEzB\\\",\\\"ignoreList\\\":[]}\",\n    version: \"3.17.5\"\n  };\n  var isOnMainThread = exports.isOnMainThread = function () {\n    var _e = [new global.Error(), -2, -27];\n    var shopify_OffscreenTsx1 = function () {\n      return typeof _WORKLET !== \"undefined\" && _WORKLET === true || _Platform.Platform.OS === \"web\";\n    };\n    shopify_OffscreenTsx1.__closure = {\n      Platform: _Platform.Platform\n    };\n    shopify_OffscreenTsx1.__workletHash = 2360777870161;\n    shopify_OffscreenTsx1.__initData = _worklet_2360777870161_init_data;\n    shopify_OffscreenTsx1.__stackDetails = _e;\n    return shopify_OffscreenTsx1;\n  }();\n  var drawAsPicture = exports.drawAsPicture = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* (element, bounds) {\n      var recorder = _skia.Skia.PictureRecorder();\n      var canvas = recorder.beginRecording(bounds);\n      var root = new _Reconciler.SkiaSGRoot(_skia.Skia);\n      yield root.render(element);\n      root.drawOnCanvas(canvas);\n      var picture = recorder.finishRecordingAsPicture();\n      root.unmount();\n      return picture;\n    });\n    return function drawAsPicture(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var drawAsImage = exports.drawAsImage = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* (element, size) {\n      return drawAsImageFromPicture(yield drawAsPicture(element), size);\n    });\n    return function drawAsImage(_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var _worklet_14131203163803_init_data = {\n    code: \"function shopify_OffscreenTsx2(picture,size){const{Skia,isOnMainThread,Platform}=this.__closure;const surface=Skia.Surface.MakeOffscreen(size.width,size.height);const canvas=surface.getCanvas();canvas.drawPicture(picture);surface.flush();const image=surface.makeImageSnapshot();if(!isOnMainThread()||Platform.OS===\\\"web\\\"){return image.makeNonTextureImage();}else{return image;}}\",\n    location: \"/Users/siddharth/projects/mobile/node_modules/@shopify/react-native-skia/src/renderer/Offscreen.tsx\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shopify_OffscreenTsx2\\\",\\\"picture\\\",\\\"size\\\",\\\"Skia\\\",\\\"isOnMainThread\\\",\\\"Platform\\\",\\\"__closure\\\",\\\"surface\\\",\\\"Surface\\\",\\\"MakeOffscreen\\\",\\\"width\\\",\\\"height\\\",\\\"canvas\\\",\\\"getCanvas\\\",\\\"drawPicture\\\",\\\"flush\\\",\\\"image\\\",\\\"makeImageSnapshot\\\",\\\"OS\\\",\\\"makeNonTextureImage\\\"],\\\"sources\\\":[\\\"/Users/siddharth/projects/mobile/node_modules/@shopify/react-native-skia/src/renderer/Offscreen.tsx\\\"],\\\"mappings\\\":\\\"AA+BsC,QAAC,CAAAA,qBAAqCA,CAAAC,OAAA,CAAAC,IAAA,QAAAC,IAAA,CAAAC,cAAA,CAAAC,QAAA,OAAAC,SAAA,CAE1E,KAAM,CAAAC,OAAO,CAAGJ,IAAI,CAACK,OAAO,CAACC,aAAa,CAACP,IAAI,CAACQ,KAAK,CAAER,IAAI,CAACS,MAAM,CAAE,CACpE,KAAM,CAAAC,MAAM,CAAGL,OAAO,CAACM,SAAS,CAAC,CAAC,CAClCD,MAAM,CAACE,WAAW,CAACb,OAAO,CAAC,CAC3BM,OAAO,CAACQ,KAAK,CAAC,CAAC,CACf,KAAM,CAAAC,KAAK,CAAGT,OAAO,CAACU,iBAAiB,CAAC,CAAC,CAEzC,GAAI,CAACb,cAAc,CAAC,CAAC,EAAIC,QAAQ,CAACa,EAAE,GAAK,KAAK,CAAE,CAC9C,MAAO,CAAAF,KAAK,CAACG,mBAAmB,CAAC,CAAC,CACpC,CAAC,IAAM,CACL,MAAO,CAAAH,KAAK,CACd,CACF\\\",\\\"ignoreList\\\":[]}\",\n    version: \"3.17.5\"\n  };\n  var drawAsImageFromPicture = exports.drawAsImageFromPicture = function () {\n    var _e = [new global.Error(), -4, -27];\n    var shopify_OffscreenTsx2 = function (picture, size) {\n      var surface = _skia.Skia.Surface.MakeOffscreen(size.width, size.height);\n      var canvas = surface.getCanvas();\n      canvas.drawPicture(picture);\n      surface.flush();\n      var image = surface.makeImageSnapshot();\n      // If we are not on the main thread or if we are on Web, we need to make the image non-texture.\n      if (!isOnMainThread() || _Platform.Platform.OS === \"web\") {\n        return image.makeNonTextureImage();\n      } else {\n        return image;\n      }\n    };\n    shopify_OffscreenTsx2.__closure = {\n      Skia: _skia.Skia,\n      isOnMainThread,\n      Platform: _Platform.Platform\n    };\n    shopify_OffscreenTsx2.__workletHash = 14131203163803;\n    shopify_OffscreenTsx2.__initData = _worklet_14131203163803_init_data;\n    shopify_OffscreenTsx2.__stackDetails = _e;\n    return shopify_OffscreenTsx2;\n  }();\n});","lineCount":85,"map":[[8,2,4,0],[8,6,4,0,"_skia"],[8,11,4,0],[8,14,4,0,"require"],[8,21,4,0],[8,22,4,0,"_dependencyMap"],[8,36,4,0],[9,2,5,0],[9,6,5,0,"_Platform"],[9,15,5,0],[9,18,5,0,"require"],[9,25,5,0],[9,26,5,0,"_dependencyMap"],[9,40,5,0],[10,2,6,0],[10,6,6,0,"_Reconciler"],[10,17,6,0],[10,20,6,0,"require"],[10,27,6,0],[10,28,6,0,"_dependencyMap"],[10,42,6,0],[11,2,8,0],[12,2,8,0],[12,6,8,0,"_worklet_2360777870161_init_data"],[12,38,8,0],[13,4,8,0,"code"],[13,8,8,0],[14,4,8,0,"location"],[14,12,8,0],[15,4,8,0,"sourceMap"],[15,13,8,0],[16,4,8,0,"version"],[16,11,8,0],[17,2,8,0],[18,2,9,7],[18,6,9,13,"isOnMainThread"],[18,20,9,27],[18,23,9,27,"exports"],[18,30,9,27],[18,31,9,27,"isOnMainThread"],[18,45,9,27],[18,48,9,30],[19,4,9,30],[19,8,9,30,"_e"],[19,10,9,30],[19,18,9,30,"global"],[19,24,9,30],[19,25,9,30,"Error"],[19,30,9,30],[20,4,9,30],[20,8,9,30,"shopify_OffscreenTsx1"],[20,29,9,30],[20,41,9,30,"shopify_OffscreenTsx1"],[20,42,9,30],[20,44,9,36],[21,6,11,2],[21,13,12,5],[21,20,12,12,"_WORKLET"],[21,28,12,20],[21,33,12,25],[21,44,12,36],[21,48,12,40,"_WORKLET"],[21,56,12,48],[21,61,12,53],[21,65,12,57],[21,69,13,4,"Platform"],[21,87,13,12],[21,88,13,13,"OS"],[21,90,13,15],[21,95,13,20],[21,100,13,25],[22,4,15,0],[22,5,15,1],[23,4,15,1,"shopify_OffscreenTsx1"],[23,25,15,1],[23,26,15,1,"__closure"],[23,35,15,1],[24,6,15,1,"Platform"],[24,14,15,1],[24,16,13,4,"Platform"],[25,4,13,12],[26,4,13,12,"shopify_OffscreenTsx1"],[26,25,13,12],[26,26,13,12,"__workletHash"],[26,39,13,12],[27,4,13,12,"shopify_OffscreenTsx1"],[27,25,13,12],[27,26,13,12,"__initData"],[27,36,13,12],[27,39,13,12,"_worklet_2360777870161_init_data"],[27,71,13,12],[28,4,13,12,"shopify_OffscreenTsx1"],[28,25,13,12],[28,26,13,12,"__stackDetails"],[28,40,13,12],[28,43,13,12,"_e"],[28,45,13,12],[29,4,13,12],[29,11,13,12,"shopify_OffscreenTsx1"],[29,32,13,12],[30,2,13,12],[30,3,9,30],[30,5,15,1],[31,2,17,7],[31,6,17,13,"drawAsPicture"],[31,19,17,26],[31,22,17,26,"exports"],[31,29,17,26],[31,30,17,26,"drawAsPicture"],[31,43,17,26],[32,4,17,26],[32,8,17,26,"_ref"],[32,12,17,26],[32,19,17,26,"_asyncToGenerator2"],[32,37,17,26],[32,38,17,26,"default"],[32,45,17,26],[32,47,17,29],[32,58,17,36,"element"],[32,65,17,57],[32,67,17,59,"bounds"],[32,73,17,74],[32,75,17,79],[33,6,18,2],[33,10,18,8,"recorder"],[33,18,18,16],[33,21,18,19,"Skia"],[33,31,18,23],[33,32,18,24,"PictureRecorder"],[33,47,18,39],[33,48,18,40],[33,49,18,41],[34,6,19,2],[34,10,19,8,"canvas"],[34,16,19,14],[34,19,19,17,"recorder"],[34,27,19,25],[34,28,19,26,"beginRecording"],[34,42,19,40],[34,43,19,41,"bounds"],[34,49,19,47],[34,50,19,48],[35,6,20,2],[35,10,20,8,"root"],[35,14,20,12],[35,17,20,15],[35,21,20,19,"SkiaSGRoot"],[35,43,20,29],[35,44,20,30,"Skia"],[35,54,20,34],[35,55,20,35],[36,6,21,2],[36,12,21,8,"root"],[36,16,21,12],[36,17,21,13,"render"],[36,23,21,19],[36,24,21,20,"element"],[36,31,21,27],[36,32,21,28],[37,6,22,2,"root"],[37,10,22,6],[37,11,22,7,"drawOnCanvas"],[37,23,22,19],[37,24,22,20,"canvas"],[37,30,22,26],[37,31,22,27],[38,6,23,2],[38,10,23,8,"picture"],[38,17,23,15],[38,20,23,18,"recorder"],[38,28,23,26],[38,29,23,27,"finishRecordingAsPicture"],[38,53,23,51],[38,54,23,52],[38,55,23,53],[39,6,24,2,"root"],[39,10,24,6],[39,11,24,7,"unmount"],[39,18,24,14],[39,19,24,15],[39,20,24,16],[40,6,25,2],[40,13,25,9,"picture"],[40,20,25,16],[41,4,26,0],[41,5,26,1],[42,4,26,1],[42,20,17,13,"drawAsPicture"],[42,33,17,26,"drawAsPicture"],[42,34,17,26,"_x"],[42,36,17,26],[42,38,17,26,"_x2"],[42,41,17,26],[43,6,17,26],[43,13,17,26,"_ref"],[43,17,17,26],[43,18,17,26,"apply"],[43,23,17,26],[43,30,17,26,"arguments"],[43,39,17,26],[44,4,17,26],[45,2,17,26],[45,5,26,1],[46,2,28,7],[46,6,28,13,"drawAsImage"],[46,17,28,24],[46,20,28,24,"exports"],[46,27,28,24],[46,28,28,24,"drawAsImage"],[46,39,28,24],[47,4,28,24],[47,8,28,24,"_ref2"],[47,13,28,24],[47,20,28,24,"_asyncToGenerator2"],[47,38,28,24],[47,39,28,24,"default"],[47,46,28,24],[47,48,28,27],[47,59,28,34,"element"],[47,66,28,55],[47,68,28,57,"size"],[47,72,28,69],[47,74,28,74],[48,6,29,2],[48,13,29,9,"drawAsImageFromPicture"],[48,35,29,31],[48,42,29,38,"drawAsPicture"],[48,55,29,51],[48,56,29,52,"element"],[48,63,29,59],[48,64,29,60],[48,66,29,62,"size"],[48,70,29,66],[48,71,29,67],[49,4,30,0],[49,5,30,1],[50,4,30,1],[50,20,28,13,"drawAsImage"],[50,31,28,24,"drawAsImage"],[50,32,28,24,"_x3"],[50,35,28,24],[50,37,28,24,"_x4"],[50,40,28,24],[51,6,28,24],[51,13,28,24,"_ref2"],[51,18,28,24],[51,19,28,24,"apply"],[51,24,28,24],[51,31,28,24,"arguments"],[51,40,28,24],[52,4,28,24],[53,2,28,24],[53,5,30,1],[54,2,30,2],[54,6,30,2,"_worklet_14131203163803_init_data"],[54,39,30,2],[55,4,30,2,"code"],[55,8,30,2],[56,4,30,2,"location"],[56,12,30,2],[57,4,30,2,"sourceMap"],[57,13,30,2],[58,4,30,2,"version"],[58,11,30,2],[59,2,30,2],[60,2,32,7],[60,6,32,13,"drawAsImageFromPicture"],[60,28,32,35],[60,31,32,35,"exports"],[60,38,32,35],[60,39,32,35,"drawAsImageFromPicture"],[60,61,32,35],[60,64,32,38],[61,4,32,38],[61,8,32,38,"_e"],[61,10,32,38],[61,18,32,38,"global"],[61,24,32,38],[61,25,32,38,"Error"],[61,30,32,38],[62,4,32,38],[62,8,32,38,"shopify_OffscreenTsx2"],[62,29,32,38],[62,41,32,38,"shopify_OffscreenTsx2"],[62,42,32,39,"picture"],[62,49,32,57],[62,51,32,59,"size"],[62,55,32,71],[62,57,32,76],[63,6,34,2],[63,10,34,8,"surface"],[63,17,34,15],[63,20,34,18,"Skia"],[63,30,34,22],[63,31,34,23,"Surface"],[63,38,34,30],[63,39,34,31,"MakeOffscreen"],[63,52,34,44],[63,53,34,45,"size"],[63,57,34,49],[63,58,34,50,"width"],[63,63,34,55],[63,65,34,57,"size"],[63,69,34,61],[63,70,34,62,"height"],[63,76,34,68],[63,77,34,70],[64,6,35,2],[64,10,35,8,"canvas"],[64,16,35,14],[64,19,35,17,"surface"],[64,26,35,24],[64,27,35,25,"getCanvas"],[64,36,35,34],[64,37,35,35],[64,38,35,36],[65,6,36,2,"canvas"],[65,12,36,8],[65,13,36,9,"drawPicture"],[65,24,36,20],[65,25,36,21,"picture"],[65,32,36,28],[65,33,36,29],[66,6,37,2,"surface"],[66,13,37,9],[66,14,37,10,"flush"],[66,19,37,15],[66,20,37,16],[66,21,37,17],[67,6,38,2],[67,10,38,8,"image"],[67,15,38,13],[67,18,38,16,"surface"],[67,25,38,23],[67,26,38,24,"makeImageSnapshot"],[67,43,38,41],[67,44,38,42],[67,45,38,43],[68,6,39,2],[69,6,40,2],[69,10,40,6],[69,11,40,7,"isOnMainThread"],[69,25,40,21],[69,26,40,22],[69,27,40,23],[69,31,40,27,"Platform"],[69,49,40,35],[69,50,40,36,"OS"],[69,52,40,38],[69,57,40,43],[69,62,40,48],[69,64,40,50],[70,8,41,4],[70,15,41,11,"image"],[70,20,41,16],[70,21,41,17,"makeNonTextureImage"],[70,40,41,36],[70,41,41,37],[70,42,41,38],[71,6,42,2],[71,7,42,3],[71,13,42,9],[72,8,43,4],[72,15,43,11,"image"],[72,20,43,16],[73,6,44,2],[74,4,45,0],[74,5,45,1],[75,4,45,1,"shopify_OffscreenTsx2"],[75,25,45,1],[75,26,45,1,"__closure"],[75,35,45,1],[76,6,45,1,"Skia"],[76,10,45,1],[76,12,34,18,"Skia"],[76,22,34,22],[77,6,34,22,"isOnMainThread"],[77,20,34,22],[78,6,34,22,"Platform"],[78,14,34,22],[78,16,40,27,"Platform"],[79,4,40,35],[80,4,40,35,"shopify_OffscreenTsx2"],[80,25,40,35],[80,26,40,35,"__workletHash"],[80,39,40,35],[81,4,40,35,"shopify_OffscreenTsx2"],[81,25,40,35],[81,26,40,35,"__initData"],[81,36,40,35],[81,39,40,35,"_worklet_14131203163803_init_data"],[81,72,40,35],[82,4,40,35,"shopify_OffscreenTsx2"],[82,25,40,35],[82,26,40,35,"__stackDetails"],[82,40,40,35],[82,43,40,35,"_e"],[82,45,40,35],[83,4,40,35],[83,11,40,35,"shopify_OffscreenTsx2"],[83,32,40,35],[84,2,40,35],[84,3,32,38],[84,5,45,1],[85,0,45,2],[85,3]],"functionMap":{"names":["<global>","isOnMainThread","drawAsPicture","drawAsImage","drawAsImageFromPicture"],"mappings":"AAA;8BCQ;CDM;6BEE;CFS;2BGE;CHE;sCIE;CJa"}},"type":"js/module"}]}